apiVersion: serving.knative.dev/v1
kind: Service
metadata:
  name: frontend-knative
spec:
  template:
    spec:
      containerConcurrency: 2 # limit to 2 requests at a time
      containers:
        image: gcr.io/onlineboutique/frontend:v0.1.4
      - env:
        - name: PRODUCT_CATALOG_SERVICE_ADDR
          value: productcatalogservice:3550
        - name: CURRENCY_SERVICE_ADDR
          value: currencyservice:7000
        - name: CART_SERVICE_ADDR
          value: cartservice:7070
        - name: RECOMMENDATION_SERVICE_ADDR
          value: recommendationservice:8080
        - name: SHIPPING_SERVICE_ADDR
          value: shippingservice:50051
        - name: CHECKOUT_SERVICE_ADDR
          value: shoppingcartservice:5050
        - name: AD_SERVICE_ADDR
          value: adservice:9555
        - name: DISABLE_TRACING
          value: "True"
        - name: DISABLE_PROFILER
          value: "False"
        resources:
          limits:
            cpu: 200m
            memory: 128Mi